{
  "info": {
    "name": "StudioForRent API - Booking Tests",
    "_postman_id": "studioforrent-booking-collection",
    "description": "Complete test collection for all booking functions",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login as Customer",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Login successful', () => pm.expect(res.success).to.be.true);",
                  "if (res.data && res.data.accessToken) {",
                  "  pm.environment.set('customerToken', res.data.accessToken);",
                  "}",
                  "if (res.data && res.data.user && res.data.user._id) {",
                  "  pm.environment.set('customerId', res.data.user._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"{{customerUsername}}\",\n  \"password\": \"{{customerPassword}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Login as Staff",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Login successful', () => pm.expect(res.success).to.be.true);",
                  "if (res.data && res.data.accessToken) {",
                  "  pm.environment.set('staffToken', res.data.accessToken);",
                  "}",
                  "if (res.data && res.data.user && res.data.user._id) {",
                  "  pm.environment.set('staffId', res.data.user._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"{{staffUsername}}\",\n  \"password\": \"{{staffPassword}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Booking - Create",
      "item": [
        {
          "name": "Create Booking with Schedule ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "pm.test('Booking created', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Has booking data', () => pm.expect(res.data).to.exist);",
                  "if (res.data && res.data._id) {",
                  "  pm.environment.set('bookingId', res.data._id);",
                  "  pm.test('Booking has ID', () => pm.expect(res.data._id).to.exist);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"scheduleId\": \"{{testScheduleId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"]
            }
          },
          "response": []
        },
        {
          "name": "Create Booking with Studio & Times",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "pm.test('Booking created', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Schedule auto-created', () => pm.expect(res.data.scheduleId).to.exist);",
                  "if (res.data && res.data._id) {",
                  "  pm.environment.set('bookingId2', res.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"studioId\": \"{{testStudioId}}\",\n  \"startTime\": \"{{testStartTime}}\",\n  \"endTime\": \"{{testEndTime}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"]
            }
          },
          "response": []
        },
        {
          "name": "Create Booking with Details",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "pm.test('Booking created', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Has total amount', () => pm.expect(res.data.finalAmount).to.exist);",
                  "pm.test('Total > 0', () => pm.expect(res.data.finalAmount).to.be.above(0));",
                  "if (res.data && res.data._id) {",
                  "  pm.environment.set('bookingId3', res.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"studioId\": \"{{testStudioId}}\",\n  \"startTime\": \"{{testStartTime2}}\",\n  \"endTime\": \"{{testEndTime2}}\",\n  \"details\": [\n    {\n      \"detailType\": \"equipment\",\n      \"equipmentId\": \"{{testEquipmentId}}\",\n      \"quantity\": 2\n    },\n    {\n      \"detailType\": \"extra_service\",\n      \"extraServiceId\": \"{{testServiceId}}\",\n      \"quantity\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"]
            }
          },
          "response": []
        },
        {
          "name": "Create Booking with Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "pm.test('Booking created', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Has discount', () => pm.expect(res.data.discountAmount).to.exist);",
                  "pm.test('Discount applied', () => pm.expect(res.data.discountAmount).to.be.above(0));",
                  "pm.test('Final < Before discount', () => {",
                  "  pm.expect(res.data.finalAmount).to.be.below(res.data.totalBeforeDiscount);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"studioId\": \"{{testStudioId}}\",\n  \"startTime\": \"{{testStartTime3}}\",\n  \"endTime\": \"{{testEndTime3}}\",\n  \"promoId\": \"{{testPromoId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Booking - Read",
      "item": [
        {
          "name": "Get All My Bookings",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Success', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Has data', () => pm.expect(res.data).to.exist);",
                  "pm.test('Is array or has items', () => {",
                  "  const items = res.data.items || res.data;",
                  "  pm.expect(items).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"]
            }
          },
          "response": []
        },
        {
          "name": "Get Bookings with Status Filter",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Success', () => pm.expect(res.success).to.be.true);",
                  "pm.test('All have PENDING status', () => {",
                  "  const items = res.data.items || res.data;",
                  "  if (items.length > 0) {",
                  "    items.forEach(b => pm.expect(b.status).to.equal('PENDING'));",
                  "  }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings?status=PENDING",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"],
              "query": [
                {
                  "key": "status",
                  "value": "PENDING"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Single Booking by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Success', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Has booking data', () => pm.expect(res.data).to.exist);",
                  "pm.test('Has booking ID', () => pm.expect(res.data._id).to.exist);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get Booking with Details",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Success', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Has details array', () => pm.expect(res.data.details).to.be.an('array'));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId3}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId3}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Booking - Add Details",
      "item": [
        {
          "name": "Add Equipment to Booking",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "pm.test('Success', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Has details', () => pm.expect(res.data.details).to.exist);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"details\": [\n    {\n      \"detailType\": \"equipment\",\n      \"equipmentId\": \"{{testEquipmentId}}\",\n      \"quantity\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId}}/details",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId}}", "details"]
            }
          },
          "response": []
        },
        {
          "name": "Add Service to Booking",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "pm.test('Success', () => pm.expect(res.success).to.be.true);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"details\": [\n    {\n      \"detailType\": \"extra_service\",\n      \"extraServiceId\": \"{{testServiceId}}\",\n      \"quantity\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId}}/details",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId}}", "details"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Booking - Update (Staff)",
      "item": [
        {
          "name": "Update Booking Times",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Success', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Booking updated', () => pm.expect(res.data).to.exist);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{staffToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"startTime\": \"{{updateStartTime}}\",\n  \"endTime\": \"{{updateEndTime}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update Booking Promotion",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Success', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Discount recalculated', () => pm.expect(res.data.discountAmount).to.exist);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{staffToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"promoId\": \"{{testPromoId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId2}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId2}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update - Add Detail via Update",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Success', () => pm.expect(res.success).to.be.true);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{staffToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"addDetails\": [\n    {\n      \"detailType\": \"equipment\",\n      \"equipmentId\": \"{{testEquipmentId}}\",\n      \"quantity\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId2}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId2}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update - Customer Forbidden",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status 403 Forbidden', () => pm.response.to.have.status(403));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"startTime\": \"{{updateStartTime}}\",\n  \"endTime\": \"{{updateEndTime}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Booking - Confirm (Staff)",
      "item": [
        {
          "name": "Confirm Booking",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Success', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Status confirmed', () => pm.expect(res.data.status).to.equal('CONFIRMED'));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{staffToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId3}}/confirm",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId3}}", "confirm"]
            }
          },
          "response": []
        },
        {
          "name": "Confirm - Customer Forbidden",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status 403 Forbidden', () => pm.response.to.have.status(403));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId2}}/confirm",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId2}}", "confirm"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Booking - Cancel",
      "item": [
        {
          "name": "Cancel Booking",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Success', () => pm.expect(res.success).to.be.true);",
                  "pm.test('Status cancelled', () => pm.expect(res.data.status).to.equal('CANCELLED'));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId}}/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId}}", "cancel"]
            }
          },
          "response": []
        },
        {
          "name": "Cancel - Equipment Released",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "pm.test('Cancelled successfully', () => pm.expect(res.data.status).to.equal('CANCELLED'));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId2}}/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId2}}", "cancel"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Edge Cases",
      "item": [
        {
          "name": "Conflict - Overlapping Schedule",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status 409 Conflict', () => pm.response.to.have.status(409));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"studioId\": \"{{testStudioId}}\",\n  \"startTime\": \"{{testStartTime}}\",\n  \"endTime\": \"{{testEndTime}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"]
            }
          },
          "response": []
        },
        {
          "name": "Conflict - 30min Gap Violation",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status 409 Conflict', () => pm.response.to.have.status(409));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"studioId\": \"{{testStudioId}}\",\n  \"startTime\": \"{{gapViolationStart}}\",\n  \"endTime\": \"{{gapViolationEnd}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"]
            }
          },
          "response": []
        },
        {
          "name": "Invalid Booking ID - 404",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status 404 Not Found', () => pm.response.to.have.status(404));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customerToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings/507f1f77bcf86cd799439011",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "507f1f77bcf86cd799439011"]
            }
          },
          "response": []
        },
        {
          "name": "Unauthorized - No Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status 401 Unauthorized', () => pm.response.to.have.status(401));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"]
            }
          },
          "response": []
        }
      ]
    }
  ]
}
